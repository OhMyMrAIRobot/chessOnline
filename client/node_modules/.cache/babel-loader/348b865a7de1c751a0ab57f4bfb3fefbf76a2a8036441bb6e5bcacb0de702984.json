{"ast":null,"code":"import { Cell } from \"./Cell\";\nimport { Colors } from \"./Colors\";\nimport { Pawn } from \"./figures/Pawn\";\nimport { King } from \"./figures/King\";\nimport { Queen } from \"./figures/Queen\";\nimport { Bishop } from \"./figures/Bishop\";\nimport { Knight } from \"./figures/Knight\";\nimport { Rook } from \"./figures/Rook\";\nexport class Board {\n  constructor() {\n    this._cells = [];\n    this._lostWhiteFigures = [];\n    this._lostBlackFigures = [];\n    this._blackPlayer = true;\n  }\n  // Fill board\n  initCells() {\n    for (let i = 0; i < 8; i++) {\n      const row = [];\n      for (let j = 0; j < 8; j++) {\n        let color;\n        if (this._blackPlayer) {\n          color = (i + j) % 2 === 0 ? Colors.BLACK : Colors.WHITE;\n        } else {\n          color = (i + j) % 2 !== 0 ? Colors.BLACK : Colors.WHITE;\n        }\n        const cell = new Cell(this, j, i, color, null);\n        row.push(cell);\n      }\n      this._cells.push(row);\n    }\n  }\n  getCell(x, y) {\n    return this._cells[y][x];\n  }\n  addPawns() {\n    for (let i = 0; i < 8; i++) {\n      new Pawn(Colors.BLACK, this.getCell(i, 1));\n      new Pawn(Colors.WHITE, this.getCell(i, 6));\n    }\n  }\n  addKings() {\n    new King(Colors.BLACK, this.getCell(4, 0));\n    new King(Colors.WHITE, this.getCell(4, 7));\n  }\n  addQueens() {\n    new Queen(Colors.BLACK, this.getCell(3, 0));\n    new Queen(Colors.WHITE, this.getCell(3, 7));\n  }\n  addBishops() {\n    new Bishop(Colors.BLACK, this.getCell(2, 0));\n    new Bishop(Colors.BLACK, this.getCell(5, 0));\n    new Bishop(Colors.WHITE, this.getCell(2, 7));\n    new Bishop(Colors.WHITE, this.getCell(5, 7));\n  }\n  addKnights() {\n    new Knight(Colors.BLACK, this.getCell(1, 0));\n    new Knight(Colors.BLACK, this.getCell(6, 0));\n    new Knight(Colors.WHITE, this.getCell(1, 7));\n    new Knight(Colors.WHITE, this.getCell(6, 7));\n  }\n  addRooks() {\n    new Rook(Colors.BLACK, this.getCell(0, 0));\n    new Rook(Colors.BLACK, this.getCell(7, 0));\n    new Rook(Colors.WHITE, this.getCell(0, 7));\n    new Rook(Colors.WHITE, this.getCell(7, 7));\n  }\n  addFigures() {\n    this.addKings();\n    this.addPawns();\n    this.addQueens();\n    this.addBishops();\n    this.addKnights();\n    this.addRooks();\n  }\n  highlightCells(selectedCell) {\n    for (let i = 0; i < this._cells.length; i++) {\n      const row = this._cells[i];\n      for (let j = 0; j < row.length; j++) {\n        var _selectedCell$_figure;\n        const target = row[j];\n        target._available = !!(selectedCell !== null && selectedCell !== void 0 && (_selectedCell$_figure = selectedCell._figure) !== null && _selectedCell$_figure !== void 0 && _selectedCell$_figure.canMove(target));\n      }\n    }\n  }\n  getCopyBoard() {\n    const newBoard = new Board();\n    newBoard._cells = this._cells;\n    newBoard._lostWhiteFigures = this._lostWhiteFigures;\n    newBoard._lostBlackFigures = this._lostBlackFigures;\n    newBoard._blackPlayer = this._blackPlayer;\n    return newBoard;\n  }\n}","map":{"version":3,"names":["Cell","Colors","Pawn","King","Queen","Bishop","Knight","Rook","Board","constructor","_cells","_lostWhiteFigures","_lostBlackFigures","_blackPlayer","initCells","i","row","j","color","BLACK","WHITE","cell","push","getCell","x","y","addPawns","addKings","addQueens","addBishops","addKnights","addRooks","addFigures","highlightCells","selectedCell","length","_selectedCell$_figure","target","_available","_figure","canMove","getCopyBoard","newBoard"],"sources":["/Users/mrairobot/Desktop/main/ksis/lab4/client/src/models/Board.ts"],"sourcesContent":["import {Cell} from \"./Cell\";\nimport {Colors} from \"./Colors\";\nimport {Pawn} from \"./figures/Pawn\";\nimport {King} from \"./figures/King\";\nimport {Queen} from \"./figures/Queen\";\nimport {Bishop} from \"./figures/Bishop\";\nimport {Knight} from \"./figures/Knight\";\nimport {Rook} from \"./figures/Rook\";\nimport {Figure} from \"./figures/Figure\";\n\nexport class Board {\n    _cells: Cell[][] = [];\n    _lostWhiteFigures: Figure[] = [];\n    _lostBlackFigures: Figure[] = [];\n    _blackPlayer: boolean = true;\n\n    // Fill board\n    public initCells() {\n        for (let i = 0; i < 8; i++) {\n            const row: Cell[] = [];\n            for (let j = 0; j < 8; j++) {\n                let color: Colors;\n                if (this._blackPlayer) {\n                    color = (i + j) % 2 === 0 ? Colors.BLACK : Colors.WHITE;\n                } else {\n                    color = (i + j) % 2 !== 0 ? Colors.BLACK : Colors.WHITE;\n                }\n                const cell = new Cell(this, j, i, color, null);\n                row.push(cell);\n            }\n            this._cells.push(row);\n        }\n    }\n\n    public getCell(x: number, y: number){\n        return this._cells[y][x];\n    }\n\n    private addPawns() {\n        for (let i = 0; i < 8; i++){\n            new Pawn(Colors.BLACK, this.getCell(i, 1))\n            new Pawn(Colors.WHITE, this.getCell(i, 6))\n        }\n    }\n\n    private addKings() {\n        new King(Colors.BLACK, this.getCell(4, 0))\n        new King(Colors.WHITE, this.getCell(4, 7))\n    }\n\n    private addQueens() {\n        new Queen(Colors.BLACK, this.getCell(3, 0))\n        new Queen(Colors.WHITE, this.getCell(3, 7))\n    }\n\n    private addBishops() {\n        new Bishop(Colors.BLACK, this.getCell(2,0));\n        new Bishop(Colors.BLACK, this.getCell(5,0));\n        new Bishop(Colors.WHITE, this.getCell(2,7));\n        new Bishop(Colors.WHITE, this.getCell(5,7));\n    }\n\n    private addKnights() {\n        new Knight(Colors.BLACK, this.getCell(1,0));\n        new Knight(Colors.BLACK, this.getCell(6,0));\n        new Knight(Colors.WHITE, this.getCell(1,7));\n        new Knight(Colors.WHITE, this.getCell(6,7));\n    }\n\n    private addRooks() {\n        new Rook(Colors.BLACK, this.getCell(0,0));\n        new Rook(Colors.BLACK, this.getCell(7,0));\n        new Rook(Colors.WHITE, this.getCell(0,7));\n        new Rook(Colors.WHITE, this.getCell(7,7));\n    }\n\n    public addFigures() {\n        this.addKings();\n        this.addPawns();\n        this.addQueens();\n        this.addBishops();\n        this.addKnights();\n        this.addRooks();\n    }\n\n    public highlightCells(selectedCell: Cell | null)  {\n        for (let i = 0; i < this._cells.length; i++){\n            const row = this._cells[i];\n            for (let j = 0; j < row.length; j++){\n                const target = row[j];\n                target._available = !!selectedCell?._figure?.canMove(target);\n            }\n        }\n    }\n\n    public getCopyBoard() : Board {\n        const newBoard = new Board();\n        newBoard._cells = this._cells;\n        newBoard._lostWhiteFigures = this._lostWhiteFigures;\n        newBoard._lostBlackFigures = this._lostBlackFigures;\n        newBoard._blackPlayer = this._blackPlayer;\n        return newBoard;\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}